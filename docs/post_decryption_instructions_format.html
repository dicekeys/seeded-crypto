<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DiceKeys Seeded Cryptography Library: Post-Decryption Instructions JSON Format</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DiceKeys Seeded Cryptography Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('post_decryption_instructions_format.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Post-Decryption Instructions JSON Format </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <a class="el" href="class_public_key.html#ade51af3f61dd5b90a466756ab26b44d4" title="Seal a plaintext message and then package the results along with its keyDerivationOptionsJson and pos...">PublicKey.seal</a> and <a class="el" href="class_symmetric_key.html#a77972abe1fcfe9de03e2f9a516918cc3" title="Seal a plaintext message.">SymmetricKey.seal</a> operations support a an optional <em>postDecryptionInstructions</em> string parameter. If the parameter is provided when a message is sealed, the same value must be present when the <em>unseal</em> operation is called. The field is stored in plaintext (unencrypted) in the <em>postDecrytpionInstructions</em> field of the <a class="el" href="class_packaged_sealed_message.html" title="When a message is sealed, the ciphertext is packaged with the keyDerivationOptionsJson in Key-Derivat...">PackagedSealedMessage</a> returned by the <em>seal</em> operation. (If the field is not provided, it is treated as an empty string.)</p>
<p>The Seeded Cryptography Library is agnostic to the format and value of this string, so long as the same string is used both during sealing and unsealing.</p>
<p>However, since it's format mirrors <a class="el" href="key_derivation_options_format.html">Key-Derivation Options JSON Format</a>, and the DiceKeys API Fields are currently documented here, we currently document the Post-Decrytpion Instructions JSON fields below.</p>
<h2><a class="anchor" id="autotoc_md11"></a>
DiceKeys API Fields</h2>
<p>The fields provide instructions the DiceKeys app about when unsealed data may be released to a client application.</p>
<h3><a class="anchor" id="autotoc_md12"></a>
restrictions</h3>
<p>This field mirrors the field in <a class="el" href="key_derivation_options_format.html">Key-Derivation Options JSON Format</a>, restricting the set of parties allowed to see an unsealed message.</p>
<div class="fragment"><div class="line">&quot;restrictions&quot;?: {</div>
<div class="line">    &quot;androidPackagePrefixesAllowed&quot;?: string[],</div>
<div class="line">    &quot;urlPrefixesAllowed&quot;?: string[]</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md13"></a>
userMustAcknowledgeThisMessage</h3>
<p>If set, the DiceKeys app should display the message to the user before allowing the unsealed message to be returned to the requesting client app. The message should be in the user's native language. The options presented to the user will be the equivalents of the enlish words "allow" or "stop".</p>
<div class="fragment"><div class="line">&quot;userMustAcknowledgeThisMessage&quot;?: string</div>
</div><!-- fragment --><p>For example </p><div class="fragment"><div class="line">{</div>
<div class="line">    &quot;userMustAcknowledgeThisMessage&quot;:</div>
<div class="line">        &quot;Do you want to allow this application to reset the password for your SpoonerMail account.&quot;</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
